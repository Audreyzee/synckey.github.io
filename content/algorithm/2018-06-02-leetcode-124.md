Title: Leetcode-124 Binary Tree Maximum Path Sum
Date: 2018-06-02
Category: posts
Tags: algorithm
Slug: leetcode-124
Author: Andy
Place: Vancouver

[leetcode link](https://leetcode.com/problems/binary-tree-maximum-path-sum/description/)

Given a non-empty binary tree, find the maximum path sum.

For this problem, a path is defined as any sequence of nodes from some starting node to any node in the tree along the parent-child connections. The path must contain at least one node and does not need to go through the root.

Example 1:
```language-bash
Input: [1,2,3]

       1
      / \
     2   3

Output: 6
```
Example 2:

```language-bash
Input: [-10,9,20,null,null,15,7]

   -10
   / \
  9  20
    /  \
   15   7

Output: 42

```
#### Solution
For every Node `a`, check the path `sum` with `a` as root, if `sum` > `currentMaxSum`, we can update `currentMaxSum = sum`.  
With recursion we can get all the path sum for every node. 

```language-java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    int maxSum = Integer.MIN_VALUE;
    private int findMax(TreeNode root){
        if(root == null) return 0;
        int left = findMax(root.left);
        int right = findMax(root.right);
        int sum = root.val + left + right;
        if(sum > maxSum) maxSum = sum;
        // Math.max(left, right)  because we're tracing the path, for a certain node, 
        // only its left or right could be added to the path.
        // Math.max(Math.max(left, right) + root.val, 0), 
        // if a node's path sum is negative,  we can safely ignore this node.
        return Math.max(Math.max(left, right) + root.val, 0);
        
    }
    public int maxPathSum(TreeNode root) {
        findMax(root);
        return maxSum;
    }
}
```

[^1]:[Accepted short solution in Java](https://leetcode.com/problems/binary-tree-maximum-path-sum/discuss/39775/Accepted-short-solution-in-Java)


